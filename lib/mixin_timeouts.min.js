// Generated by CoffeeScript 1.3.3
/*
  mixin_timeouts.js
  (c) 2011 Kevin Malakoff.
  Mixin.Timeouts is freely distributable under the MIT license.
  See the following for full license details:
    https://github.com/kmalakoff/mixin/blob/master/LICENSE
  Dependencies: Mixin.Core
*/(function(){var e;!Mixin&&typeof exports!="undefined"&&(this.Mixin=require("mixin_core").Mixin),e=!window._&&typeof require!="undefined"?require("underscore"):window._,e||(e=Mixin._),Mixin.Timeouts||(Mixin.Timeouts={}),Mixin.Timeouts._mixin_info={mixin_name:"Timeouts",initialize:function(){return Mixin.instanceData(this,"Timeouts",{timeouts:{}})},destroy:function(){return this.killAllTimeouts()},mixin_object:{addTimeout:function(t,n,r){var i,s,o,u=this;Mixin.Core._Validate.string(t,"Mixin.Timeouts.addTimeout","timeout_name"),Mixin.Core._Validate.callback(n,"Mixin.Timeouts.addTimeout","callback");if(r===void 0)throw new Error("Mixin.Timeouts: missing wait on '"+e.classOf(this)+"'");if(typeof r!="number"||r<0||Math.floor(r)!==r)throw new Error("Mixin.Timeouts: wait invalid on '"+e.classOf(this)+"'");s=Mixin.instanceData(this,"Timeouts");if(this.hasTimeout(t))throw new Error("Mixin.Timeouts: timeout '"+t+"' already exists on '"+e.classOf(this)+"'");return i=Array.prototype.slice.call(arguments,3),o=setTimeout(function(){return u.killTimeout(t),n.apply(u,i)},r),s.timeouts[t]=o,this},hasTimeout:function(e){var t;return t=Mixin.instanceData(this,"Timeouts"),e in t.timeouts},timeoutCount:function(){var e,t,n,r,i;t=Mixin.instanceData(this,"Timeouts"),e=0,i=t.timeouts;for(n in i)r=i[n],e++;return e},timeouts:function(){var e,t,n,r,i;e=Mixin.instanceData(this,"Timeouts"),n=[],i=e.timeouts;for(t in i)r=i[t],n.push(t);return n},killTimeout:function(e){var t;t=Mixin.instanceData(this,"Timeouts");if(!this.hasTimeout(e))throw new Error("Mixin.Timeouts: timeout '"+e+"' does not exist. For a less-strict check, use killTimeoutIfExists");return this.killTimeoutIfExists(e),this},killTimeoutIfExists:function(e){var t,n;return t=Mixin.instanceData(this,"Timeouts"),n=t.timeouts[e],n&&clearTimeout(n),delete t.timeouts[e],this},killAllTimeouts:function(){var e,t,n,r;t=Mixin.instanceData(this,"Timeouts"),r=t.timeouts;for(n in r)e=r[n],this.killTimeoutIfExists(n);return this}}},Mixin.registerMixin(Mixin.Timeouts._mixin_info)}).call(this);